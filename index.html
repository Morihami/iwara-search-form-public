<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IwaraÊ§úÁ¥¢Âºè„Ç∏„Çß„Éç„É¨„Éº„Çø„Éº</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>IwaraÊ§úÁ¥¢Âºè„Ç∏„Çß„Éç„É¨„Éº„Çø„Éº</h1>
            <p class="subtitle">Ë§áÈõë„Å™Ê§úÁ¥¢Êù°‰ª∂„Çí„Ç∑„É≥„Éó„É´„Å™„Éï„Ç©„Éº„É†„ÅßÂÖ•Âäõ</p>
        </header>

        <main>
            <div class="workspace" aria-label="„Éï„Ç©„Éº„É†„Å®„Éó„É¨„Éì„É•„Éº„ÅÆ‰∏¶Âàó„Éì„É•„Éº">
                <div class="workspace__form" role="region" aria-label="Ê§úÁ¥¢Êù°‰ª∂„Éï„Ç©„Éº„É†">
                    <form id="searchForm" class="search-form">
                <!-- „É≠„Ç±„Éº„É´ -->
                <section class="form-section">
                    <h2 class="visually-hidden">„É≠„Ç±„Éº„É´</h2>
                    <div class="form-group form-group-inline">
                        <label>„É≠„Ç±„Éº„É´</label>
                        <div class="inline-radio no-divider" role="group" aria-label="„É≠„Ç±„Éº„É´">
                            <label class="inline-radio__item">
                                <input type="radio" name="localeMode" value="" checked>
                                „Å™„Åó
                            </label>
                            <label class="inline-radio__item">
                                <input type="radio" name="localeMode" value="en">
                                Ëã±Ë™û
                            </label>
                            <label class="inline-radio__item">
                                <input type="radio" name="localeMode" value="ja">
                                Êó•Êú¨Ë™û
                            </label>
                            <label class="inline-radio__item">
                                <input type="radio" name="localeMode" value="zh">
                                ‰∏≠ÂõΩË™û
                            </label>
                        </div>
                        <button type="button" id="resetBtnInline" class="btn btn-secondary btn-compact">„ÇØ„É™„Ç¢</button>
                    </div>
                </section>
                <!-- „Çø„Ç§„Éà„É´ -->
                <section class="form-section">
                    <h2 class="visually-hidden">„Çø„Ç§„Éà„É´</h2>
                    <div class="form-group form-group-inline">
                        <label for="titleFilter">„Çø„Ç§„Éà„É´</label>
                        <input type="text" id="titleFilter" name="titleFilter" placeholder="‰æã: miku">
                    </div>
                </section>

                <!-- Ë©≥Á¥∞ -->
                <section class="form-section">
                    <h2 class="visually-hidden">Ë©≥Á¥∞</h2>
                    <div class="form-group form-group-inline">
                        <label for="detailFilter">Ë©≥Á¥∞</label>
                        <input type="text" id="detailFilter" name="detailFilter" placeholder="‰æã: dance">
                    </div>
                </section>

                <!-- ‰ΩúËÄÖ -->
                <section class="form-section">
                    <h2 class="visually-hidden">‰ΩúËÄÖ</h2>
                    <div class="form-group form-group-inline">
                        <label for="users">‰ΩúËÄÖ</label>
                        <input type="text" id="users" name="users" placeholder="‰æã: creator1, creator2">
                        <div class="inline-radio no-divider" role="group" aria-label="‰ΩúËÄÖÊù°‰ª∂">
                            <label class="inline-radio__item">
                                <input type="radio" name="userMode" value="include" checked>
                                Áµû„ÇäËæº„ÇÄ
                            </label>
                            <label class="inline-radio__item">
                                <input type="radio" name="userMode" value="exclude">
                                Èô§Â§ñ„Åô„Çã
                            </label>
                        </div>
                    </div>
                </section>

                <!-- „É¨„Éº„ÉÜ„Ç£„É≥„Ç∞ -->
                <section class="form-section">
                    <h2 class="visually-hidden">„É¨„Éº„ÉÜ„Ç£„É≥„Ç∞</h2>
                    <div class="form-group form-group-inline-2">
                        <label>„É¨„Éº„ÉÜ„Ç£„É≥„Ç∞</label>
                        <div class="inline-radio no-divider" role="group" aria-label="„É¨„Éº„ÉÜ„Ç£„É≥„Ç∞">
                            <label class="inline-radio__item">
                                <input type="radio" name="ratingMode" value="" checked>
                                „Åô„Åπ„Å¶
                            </label>
                            <label class="inline-radio__item">
                                <input type="radio" name="ratingMode" value="general">
                                ‰∏ÄËà¨
                            </label>
                            <label class="inline-radio__item">
                                <input type="radio" name="ratingMode" value="ecchi">
                                „Ç®„ÉÉ„ÉÅ
                            </label>
                        </div>
                    </div>
                </section>

                <!-- Èï∑„Åï -->
                <section class="form-section">
                    <h2 class="visually-hidden">Èï∑„Åï</h2>
                    <div class="form-group form-group-inline-range">
                        <label for="durationMin">Èï∑„ÅïÔºàÁßíÔºâ</label>
                        <div class="range-inline">
                            <div class="range-field">
                                <input type="number" id="durationMin" name="durationMin" class="input-4ch" placeholder="60" min="0">
                            </div>
                            <span class="range-sep" aria-hidden="true">ÔΩû</span>
                            <div class="range-field">
                                <input type="number" id="durationMax" name="durationMax" class="input-4ch" placeholder="120" min="0">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Likes -->
                <section class="form-section">
                    <h2 class="visually-hidden">Likes</h2>
                    <div class="form-group form-group-inline-range">
                        <label for="likesMin">Likes</label>
                        <div class="range-inline">
                            <div class="range-field">
                                <input type="number" id="likesMin" name="likesMin" class="input-8ch" placeholder="0" min="0">
                            </div>
                            <span class="range-sep" aria-hidden="true">ÔΩû</span>
                            <div class="range-field">
                                <input type="number" id="likesMax" name="likesMax" class="input-8ch" placeholder="100" min="0">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Views -->
                <section class="form-section">
                    <h2 class="visually-hidden">Views</h2>
                    <div class="form-group form-group-inline-range">
                        <label for="viewsMin">Views</label>
                        <div class="range-inline">
                            <div class="range-field">
                                <input type="number" id="viewsMin" name="viewsMin" class="input-8ch" placeholder="0" min="0">
                            </div>
                            <span class="range-sep" aria-hidden="true">ÔΩû</span>
                            <div class="range-field">
                                <input type="number" id="viewsMax" name="viewsMax" class="input-8ch" placeholder="10000000" min="0">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Comments -->
                <section class="form-section">
                    <h2 class="visually-hidden">Comments</h2>
                    <div class="form-group form-group-inline-range">
                        <label for="commentsMin">Comments</label>
                        <div class="range-inline">
                            <div class="range-field">
                                <input type="number" id="commentsMin" name="commentsMin" class="input-8ch" placeholder="0" min="0">
                            </div>
                            <span class="range-sep" aria-hidden="true">ÔΩû</span>
                            <div class="range-field">
                                <input type="number" id="commentsMax" name="commentsMax" class="input-8ch" placeholder="10000000" min="0">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- „Çø„Ç∞ -->
                <section class="form-section">
                    <h2 class="visually-hidden">„Çø„Ç∞</h2>
                    <div class="form-group form-group-inline">
                        <label>„Çø„Ç∞</label>
                        <div class="tag-inline">
                            <input type="text" id="tags" name="tags" placeholder="‰æã: mmd, dance">
                            <div class="inline-radio no-divider" role="group" aria-label="„Çø„Ç∞Êù°‰ª∂">
                                <label class="inline-radio__item">
                                    <input type="radio" name="tagsMode" value="and" checked>
                                    „Åô„Åπ„Å¶Âê´„ÇÄ
                                </label>
                                <label class="inline-radio__item">
                                    <input type="radio" name="tagsMode" value="or">
                                    „ÅÑ„Åö„Çå„ÅãÂê´„ÇÄ
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-inline">
                        <label for="tagsNot">„Çø„Ç∞ÔºàÈô§Â§ñÔºâ</label>
                        <input type="text" id="tagsNot" name="tagsNot" placeholder="‰æã: guro, scat">
                    </div>
                </section>

                <!-- Êõ¥Êñ∞Êó• -->
                <section class="form-section">
                    <h2 class="visually-hidden">Êõ¥Êñ∞Êó•</h2>
                    <div class="form-group form-group-inline-range">
                        <label for="dateMin">Êõ¥Êñ∞Êó•</label>
                        <div class="range-inline">
                            <div class="date-field">
                                <input type="date" id="dateMin" name="dateMin">
                                <button type="button" class="date-picker-btn" aria-label="ÈñãÂßãÊó•„ÇíÈÅ∏Êäû" data-date-target="dateMin">üìÖ</button>
                            </div>
                            <span class="range-sep" aria-hidden="true">ÔΩû</span>
                            <div class="date-field">
                                <input type="date" id="dateMax" name="dateMax">
                                <button type="button" class="date-picker-btn" aria-label="ÁµÇ‰∫ÜÊó•„ÇíÈÅ∏Êäû" data-date-target="dateMax">üìÖ</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ÁîüÊàêÁµêÊûú -->
                <section class="result-section" aria-label="ÁîüÊàê„Åï„Çå„ÅüÊ§úÁ¥¢Âºè">
                    <div class="result-header">
                        <h2>ÁîüÊàê„Åï„Çå„ÅüÊ§úÁ¥¢Âºè</h2>
                    </div>
                    <div class="result-container">
                        <div id="resultPreview" class="result-preview">
                            <code id="searchExpression">„Åì„Åì„Å´Ê§úÁ¥¢Âºè„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô</code>
                        </div>
                        <button type="button" id="copyBtn" class="btn btn-copy" disabled>
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2z"/>
                            </svg>
                            „Ç≥„Éî„Éº
                        </button>
                    </div>
                    <div id="copyMessage" class="copy-message"></div>
                </section>
                    </form>
                </div>
            </div>

            <!-- „É™„Éï„Ç°„É¨„É≥„Çπ -->
            <section class="reference-section">
                <h2>Ê§úÁ¥¢Âºè„ÅÆ„É™„Éï„Ç°„É¨„É≥„Çπ</h2>
                <div class="reference-content">
                    <h3>Âü∫Êú¨ÁöÑ„Å™ÊºîÁÆóÂ≠ê</h3>
                    <ul>
                        <li><strong>ANDÔºà„Çπ„Éö„Éº„ÇπÔºâ</strong>: Ë§áÊï∞„ÅÆÊù°‰ª∂„Åô„Åπ„Å¶„ÇíÊ∫Ä„Åü„ÅôÔºà‰æã: <code>{tags: [mmd]} {tags: [dance]}</code>Ôºâ</li>
                        <li><strong>OR</strong>: Ë§áÊï∞„ÅÆÊù°‰ª∂„ÅÆ„ÅÑ„Åö„Çå„Åã„ÇíÊ∫Ä„Åü„ÅôÔºà‰æã: <code>{tags: [r18, ecchi]}</code>Ôºâ</li>
                        <li><strong>NOT</strong>: Êù°‰ª∂„ÇíÈô§Â§ñ„Åô„ÇãÔºà‰æã: <code>{tags: ![guro]}</code>Ôºâ</li>
                    </ul>
                    <h3>„Éï„Ç£„Éº„É´„ÉâÊåáÂÆö</h3>
                    <ul>
                        <li><code>{title_ja: miku}</code> - „Çø„Ç§„Éà„É´</li>
                        <li><code>{body_ja: dance}</code> - Ë©≥Á¥∞</li>
                        <li><code>{author: [username]}</code> - ‰ΩúËÄÖ</li>
                        <li><code>{rating=general}</code> - „É¨„Éº„ÉÜ„Ç£„É≥„Ç∞</li>
                        <li><code>{duration: [60..120]}</code> - Èï∑„ÅïÔºàÁßíÔºâ</li>
                        <li><code>{likes: [10..]}</code> - Likes</li>
                        <li><code>{views: [100..]}</code> - Views</li>
                        <li><code>{comments: [5..]}</code> - Comments</li>
                        <li><code>{tags: [„Çø„Ç∞Âêç]}</code> - „Çø„Ç∞ÔºàË§áÊï∞„ÅØ <code>[a, b]</code>Ôºâ</li>
                        <li><code>{date: [1700000000..1709999999]}</code> - Êõ¥Êñ∞Êó•ÔºàUNIXÔºâ</li>
                    </ul>
                    <p class="reference-link">
                        Ë©≥Á¥∞„ÅØ<a href="https://www.iwara.tv/forum/announcements/2520f68b-b13f-42db-834b-8ab9a2017ad4/2025-08-16-search-update-or-or" target="_blank" rel="noopener noreferrer">ÂÖ¨Âºè„Ç¢„Éä„Ç¶„É≥„Çπ</a>„Çí„ÅîË¶ß„Åè„Å†„Åï„ÅÑ„ÄÇ
                    </p>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2024 IwaraÊ§úÁ¥¢Âºè„Ç∏„Çß„Éç„É¨„Éº„Çø„Éº</p>
        </footer>
    </div>

  <script src="script.js"></script>
  <script>
    if (location.protocol.startsWith('http')) {
      try {
        const source = new EventSource('/__livereload');
        source.onmessage = (event) => {
          if (event.data === 'reload') {
            location.reload();
          }
        };
        source.onerror = () => {
          source.close();
        };
      } catch (error) {
        console.warn('Live reload is unavailable.', error);
      }
    }
  </script>
</body>
</html>
